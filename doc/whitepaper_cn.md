# 开放式社交公共网络白皮书
作者：深圳市加农炮网络技术有限公司
## 前言
&emsp;&emsp;我们看到了一批又一批的勇士冲进社交领域，然后败北。分析其败北原因，用户不使用你们产品的原因是因为社交关系网不在你的APP上，即使你的产品做得再好，也很难让用户留下来。关系网存在大鱼吃小鱼的问题，大的关系网会把小的关系网吞并掉。

 ![image](/img/wp_pic1.jpg)

&emsp;&emsp;假设目前有两个社交网络，一个网络有10亿用户，一个网络有100万用户。

 ![image](/img/wp_pic2.jpg)

&emsp;&emsp;现在有一个用户，他在网络B中有1000个朋友，在网络A中有10个朋友。由于社交软件之间存在壁垒，使用两个社交软件进行切换很麻烦。因此这个用户就会推荐网络A中的10个朋友，使用网络B中的软件。
&emsp;&emsp;在网络A的其中一个朋友，如果是因为该用户推荐他使用网络B，可能他使用网络B的概率不大。但是真实的情况是，这个朋友会有很多的朋友，都推荐他使用网络B。如下图所示。

![image](/img/wp_pic3.jpg)

&emsp;&emsp;这个人就有很大的概率投入网络B的怀抱，而他发现使用2款社交会很麻烦，就会推荐网络A中的其他朋友使用网络B。

![image](/img/wp_pic4.jpg)

&emsp;&emsp;很快，网络A就会被网络B吞噬。

## 跨界社交的理念
&emsp;&emsp;如果你的APP可以和网络B的APP相互聊天，那么你的APP就有机会让用户留存。基于这种假设，我们提出了“跨界社交”、“跨界通信”的理念，让所有的社交APP都可以相互的聊天。比如，微信可以和陌陌聊天，陌陌可以和钉钉聊天等等。有了跨界社交，你的APP的生存概率才会增大。（想想三大运营商移动、电信、联通如果不能相互打电话相互发短信会有怎样的结果？三家存一家可能是最后的结果）

## 开放式社交公共网络介绍 
&emsp;&emsp;开放式社交公共网络（Open social public network，简称OSPN）是一个可以帮助企业的社交APP与其他社交APP建立“跨界社交”联系的项目。OSPN是一个开源免费的项目，它是一种理念，是一套解决方案，是一套源代码，需要企业将这套源代码植入到自己的服务器中去。

### 1、整体架构 
&emsp;&emsp;开放式社交公共网络的底层通讯采用了基于DHT结构的P2P技术。每一家接入的企业都将以一个节点的形式接入到OSPN中。其结构图如下图所示

![image](/img/wp_pic5.jpg)

企业作为节点接入需要三个部分，connector，IM服务（IMS），客户端（APP、小程序、或者web等等）。三者之间的关系如下图所示

![image](/img/wp_pic6.jpg)
 
connector的作用是与其他企业的connector进行数据交换。

### 2、账户系统 
&emsp;&emsp;OSPN的账户不再是由服务器生成，而是采用椭圆加密算法，由客户端随机生成。账户生成的具体方案请参见《开放式社交网络通信协议》。

### 3、添加好友 
添加好友有几种方式：
#### 3.1 双方互相交换账号
&emsp;&emsp;该方式就像是双方交换电话号码。
#### 3.2 由好友推荐
&emsp;&emsp;用户B介绍用户A和用户C成为好友。

![image](/img/wp_pic7.jpg)

第一步，用户B将介绍信发送给双方 
第二步，用户A和C同意，就会将自己的账号加密以后发送给B 
第三步，B收到A和C发来的加密账号以后，转发给双方。 
注：B收到的信息是密文，并不知道里面具体的账号是什么。 
双方将对方的加密账号在终端添加成好友以后，就可以相互发送消息了。 

####3.3 通过发送添加好友请求命令
&emsp;&emsp;该方式需要你使用的APP所在企业是否支持跨界添加好友请求，如果该企业不支持跨界添加好友，则无法使用。


### 4、发送消息

![image](/img/wp_pic8.jpg)

用户1给用户2发送消息的流程如图所示。 
IMS1代表USER1使用的IM服务。 
connector1代表与IMS1配套的服务。 
IMS2代表USER2使用的IM服务。 
connector2代表与IMS2配套的服务。 

1． USER1首次给USER2发送消息时会将消息发送给IMS1，IMS1发送寻人命令给connector1，connector1到OSPN网络里广播寻人。（发送的消息会使用USER2的公钥进行加密。） 
2.  connector2收到广播找人消息以后会将命令发送给IMS2,IMS2判断USER2是否在自己的服务上。如果user2在线，IMS2才会去获取用户源列表。 
3.  IMS1接收到获取用户列表命令以后发送关于某一用户的列表。 
4.  USER2收到列表以后根据自己的需求，筛选所需消息，发送获取消息命令。 
5.  IMS1接收到获取消息命令以后发送消息。 
6.  USER2接收到消息以后验证签名，并发送回执。 
7.  IMS1接收到回执，删除滞留的消息。 
8.  建立了首次通信以后，双方只需要发送获取消息的命令即可完成消息发送与接收。 

### 5、跨界群
&emsp;&emsp;跨界群，顾名思义，是要让不同应用（APP、小程序等）上的用户能够在同一个群里聊天。
![image](/img/wp_pic9.jpg)
跨界群示意图，CGS代表跨界群服务，user1是企业A的用户，user2是企业B的用户。他们可以同时使用企业A提供的跨界群服务。

#### 群的所有权
&emsp;&emsp;由于群是由群主创建，因此我们主张群的所有权归属于群主所有，同时群主具有选择服务商的权利。

#### 群的监控权
&emsp;&emsp;由于群属于是公共场合，因此企业作为群的服务提供商，群的监控权应该归属于企业所有。企业应具备对群言论的监控权，以及是否对群提供服务的权利。企业可以要求群主进行实名认证，我们主张群实行群主负责制，言论的管控由群主负责，如果发生不当言论，应当直接找群主处理，群主可以对群成员进行禁言或者T出群。如果群主不作为，企业可代行处理。

#### 群服务商的更换权
&emsp;&emsp;群主应具备对服务商的更换权。为了防止群服务提供商滥用手上的职权，为了坚持群的所有权归属群主所有。

![image](/img/wp_pic10.jpg) 

群主更换跨界群运营商的示意图。User1为群主，可以将跨界群的服务迁移到企业C上，从而保护住自己的群不丢失。

#### 如何实现群的所有权归属群主，而监控权归属服务商？
&emsp;&emsp;OSPN网络使用的账号包含了双密钥对，其中的暗密钥对掌控着对群的所有权，明密钥对则可以拥有监控权。群主在创建跨界群时，群账号由群主生成。选定服务提供商以后，群主需要将群账号和明密钥对交给服务商。这样归属权和监控权就分离开了，服务商具备了仅具备了群的运营权和监控权，不具备归属权。

#### 群主如何对服务商进行更换？服务商拥有明密钥对，如果服务商不配合应该如何处理？
&emsp;&emsp;群主更换服务提供商，首先需要找到另外一家愿意提供服务的服务提供商。 
&emsp;&emsp;群主向新的服务提供商提供群账号和明私钥。此时旧服务商和新服务商都拥有运营群的权利。 
&emsp;&emsp;群主向新服务商提供群成员名单。 
&emsp;&emsp;群主向新服务商提出更换群账号的指令。新服务商通过OSPN网络广播告知所有群&emsp;&emsp;成员账户更换，旧服务商无法更换群账户。 
&emsp;&emsp;群成员收到更换通知以后连接到新的群地址即可完成群的更换。 

### 6、治理方式
&emsp;&emsp;OSPN网络采用了“完全去中心化”的设计。设计由深圳市加农炮网络技术有限公司（简称加农炮）完成，但是运营权不归属加农炮所有。现在我们假设加农炮要修改当前的规则，推或者要推出一些新的协议，如果目前网络中的大部分企业表示不不支持，他们继续维护着原来的规则，那么这些新的改动是无法完成的。只有当有企业支持了这种新的规则，并且大部分的企业达成了共识支持这种规则，新规则才会被采纳。 
    如果一部分企业采纳了这种规则，另一部分企业不采纳，可能会发生“分网”的情况。发生了此种事件以后，由市场决定其走向，假设现在形成了“分网”，那么未来由用户来决定未来走向。如果新规不能得到市场的认同和共识，那么新规将被市场淘汰掉。 

### 7、隐私保护
&emsp;&emsp;我们提倡的碎片化隐私保护。现在我们全部使用微信，以朋友关系网为例，我现在与1000个朋友的关系网全部在微信，一旦隐私泄露，就会把我的关系网，以及我的朋友全部暴露出来。 
&emsp;&emsp;但是碎片化的隐私保护，提倡你与1000个朋友的关系网分散到多家企业，这样一家企业得到你的关系网将会是一个不全面的关系网，即使暴露了也仅仅是暴露了你自己的资料，而你朋友们的隐私得以保护，因为他们的隐私在另外一家企业。 
&emsp;&emsp;而对于企业所保存的个人隐私资料，企业也不会共享给其他企业。用户使用谁的APP，就会是谁的用户。 

### 8、最合理的通胀模型
&emsp;&emsp;开放式社交公共网络具备区块链的“去中心化”特征，但是没有区块，也没有链。同时也没有token，却自带了隐藏token属性。全球70亿人是OSPN的总token，企业运营自己的IM软件，等同于挖矿。获得了多少用户，等同于挖到了多少矿。 
&emsp;&emsp;原来一个社交企业，如果只有5万的用户，达不到质变的效果是没有价值的。但是有了OSPN以后，拥有了5万的用户，就变得有价值了，因为如果持续购买100个有5万用户的APP，就可以形成5百万的用户级数。因此小中企业会变得更有价值，也更容易活下来。 
&emsp;&emsp;如果一家本就带有了一定的用户（20万），这个时候加入到OSPN网络中，就等于挖到了20万的token。 
&emsp;&emsp;相对于其他的token，OSPN自带的隐藏token具备更多其他token不具备的优势。它的通胀模型非常合理，与比特币相比，由于比特币的上限总量恒定，且后期产量减半，会导致后来者不愿意入局。因为后入局者容易变成韭菜。而每年固定百分比增发和每年固定数量增发的模型也会导致在未来形成通胀。 

![image](/img/renkoucn.jpg)  
历年新生儿统计示意图 

&emsp;&emsp;而OSPN自带的隐藏token的的通胀模型与人口挂钩具有去陈出新的特性，这是其他区块链所不具备的。假设目前一家企业处理垄断地位，但是每年都会有一部分token消失（人口减少），而每年的新增token则是众人去竞争，所以OSPN的隐藏token被集中的概率会更低，这是一种非常分散化的token模型。而对于入局者，任何时候入局都不会晚，即使是后来入局者，仍然会有优势。

## 未来社交网络
&emsp;&emsp;当有了OSPN网络以后，我们再来分析还会不会存在大鱼吃小鱼的情况。同样是两个网络，一个拥有10亿用户，一个拥有100万用户。
 
&emsp;&emsp;还是同样的情况，有一个用户，他在网络B中有1000个朋友，在网络A中有10个朋友。这个用户选择哪一个网络，都可以和所有的朋友交流，因此不再存在有人建议他使用哪个软件的情况，用户可以根据自己的喜好任意选择自己喜欢的APP。没有了朋友的推荐，对于小型的网络来说，就保留住了自己的用户，而网络B由于前期是因为朋友关系被捆绑到网络B中的用户，则可以逃离出来，分散到其他的网络中。
&emsp;&emsp;既然用户可能逃离网络B，网络B为什么又要加入OSPN呢？首先一个人的手机上不可能只装一款APP，一般会装12款APP。我们假设用户除了装网络B的软件，另外11款APP有3款是具备跨界社交功能的，只是目前这个用户没有使用这个功能而已。这时，这个用户遇到一个朋友，他不使用网络B的app，而是OSPN上的某一款APP。那么这个用户就会使用那3款软件中的其中一款APP与这个朋友添加好友。因为不用下载新的APP，用已有APP就可以完成，对用户的接受程度会很高。久之，这个用户就会逃离网络B，这种情况即使是网络B不加入OSPN，也会发生用户逃离的情况，综合考虑，网络B为了保护自己的用户不流失，会加入OSPN网络。
&emsp;&emsp;其他3款APP又为什么会加入OSPN网络？目前除了头部的几家企业，其他APP大部分都没有足够的用户，而所有的APP都可以改造，内置跨界聊天。他们加入OSPN的成本很低，同时也可能帮助他们开拓出的新的业务和新的用户，因此他们会选择加入OSPN网络。

 
未来社交网络示意图

&emsp;&emsp;综上所述未来的社交网络是百家争鸣的盛世，所有的社交APP都可以相互通信相互聊天，甚至每一个APP都可能有这么一个跨界聊天的模块。当今这种大鱼吃小鱼的情况会得到改善。

