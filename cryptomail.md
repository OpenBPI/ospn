# 基于OSPN的加密邮件设计方案

该方案是在现有邮件的基础上再封装了邮件内容。可进一步增强邮件安全。  

企业可在自己的应用中添加邮件功能（市面上所有的邮件都可以支持）。如何开发自己的邮件系统请自行搜索android邮件开发、ios邮件开发、windows下的邮件开发、linux下的邮件开发等文章。

## 发送邮件
发送邮件时，除了需要对方的email账户以外，还需要知道对方的osn账户。  
1. 生成随机密码。  
2. 从osn账户中提取公钥，并对随机密码进行加密。  
3. 使用随机密码对邮件内容进行加密。  
4. 使用asn1格式封装2和3中产生的密文。  
5. 对asn1格式的进行base58编码。   

## 接收邮件
当用户接收到邮件时会显示很多看不懂的文字，解码方式如下。  
1. 对数据进行base58解码。  
2. 解析asn1提取出两段密文。  
3. 使用自己的osn账号的私钥解密第一段密文提取出随机密码。  
4. 使用随机密码解密第二段密文提取出明文。  
5. 显示。  

我们在近期会公布具体的加解密封装格式和代码。

